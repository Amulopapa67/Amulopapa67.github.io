"use strict";var De=Object.create;var Z=Object.defineProperty;var xe=Object.getOwnPropertyDescriptor;var me=Object.getOwnPropertyNames;var Se=Object.getPrototypeOf,Be=Object.prototype.hasOwnProperty;var Ae=(e,s)=>{for(var Q in s)Z(e,Q,{get:s[Q],enumerable:!0})},G=(e,s,Q,T)=>{if(s&&typeof s=="object"||typeof s=="function")for(let h of me(s))!Be.call(e,h)&&h!==Q&&Z(e,h,{get:()=>s[h],enumerable:!(T=xe(s,h))||T.enumerable});return e},k=(e,s,Q)=>(G(e,s,"default"),Q&&G(Q,s,"default")),Pe=(e,s,Q)=>(Q=e!=null?De(Se(e)):{},G(s||!e||!e.__esModule?Z(Q,"default",{value:e,enumerable:!0}):Q,e)),he=e=>G(Z({},"__esModule",{value:!0}),e);var b={};Ae(b,{ApiProvider:()=>ce,UNINITIALIZED_VALUE:()=>q,createApi:()=>ve,reactHooksModule:()=>ue,reactHooksModuleName:()=>ae});module.exports=he(b);var c=require("@reduxjs/toolkit/query");var at=require("@reduxjs/toolkit"),M=require("react-redux"),de=require("reselect");function j(e){return e.replace(e[0],e[0].toUpperCase())}var Ie="query",Ue="mutation",be="infinitequery";function ye(e){return e.type===Ie}function oe(e){return e.type===Ue}function Y(e){return e.type===be}function z(e,...s){return Object.assign(e,...s)}var Qe=require("@reduxjs/toolkit");var t=require("react");var S=require("react-redux");var q=Symbol();function J(e){let s=(0,t.useRef)(e),Q=(0,t.useMemo)(()=>(0,c.copyWithStructuralSharing)(s.current,e),[e]);return(0,t.useEffect)(()=>{s.current!==Q&&(s.current=Q)},[Q]),Q}function W(e){let s=(0,t.useRef)(e);return(0,t.useEffect)(()=>{(0,S.shallowEqual)(s.current,e)||(s.current=e)},[e]),(0,S.shallowEqual)(s.current,e)?s.current:e}var Ee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ke=Ee(),Me=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Oe=Me(),Fe=()=>ke||Oe?t.useLayoutEffect:t.useEffect,we=Fe(),pe=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:c.QueryStatus.pending}:e;function ie(e,...s){let Q={};return s.forEach(T=>{Q[T]=e[T]}),Q}var se=["data","status","isLoading","isSuccess","isError","error"];function fe({api:e,moduleOptions:{batch:s,hooks:{useDispatch:Q,useSelector:T,useStore:h},unstable__sideEffectsInRender:I,createSelector:N},serializeQueryArgs:E,context:L}){let O=I?n=>n():t.useEffect,C=n=>n.current?.unsubscribe?.(),K=L.endpointDefinitions;return{buildQueryHooks:ne,buildInfiniteQueryHooks:le,buildMutationHook:Re,usePrefetch:V};function te(n,a,d){if(a?.endpointName&&n.isUninitialized){let{endpointName:y}=a,p=K[y];d!==c.skipToken&&E({queryArgs:a.originalArgs,endpointDefinition:p,endpointName:y})===E({queryArgs:d,endpointDefinition:p,endpointName:y})&&(a=void 0)}let o=n.isSuccess?n.data:a?.data;o===void 0&&(o=n.data);let u=o!==void 0,r=n.isLoading,i=(!a||a.isLoading||a.isUninitialized)&&!u&&r,f=n.isSuccess||u&&(r&&!a?.isError||n.isUninitialized);return{...n,data:o,currentData:n.data,isFetching:r,isLoading:i,isSuccess:f}}function A(n,a,d){if(a?.endpointName&&n.isUninitialized){let{endpointName:y}=a,p=K[y];d!==c.skipToken&&E({queryArgs:a.originalArgs,endpointDefinition:p,endpointName:y})===E({queryArgs:d,endpointDefinition:p,endpointName:y})&&(a=void 0)}let o=n.isSuccess?n.data:a?.data;o===void 0&&(o=n.data);let u=o!==void 0,r=n.isLoading,i=(!a||a.isLoading||a.isUninitialized)&&!u&&r,f=n.isSuccess||r&&u;return{...n,data:o,currentData:n.data,isFetching:r,isLoading:i,isSuccess:f}}function V(n,a){let d=Q(),o=W(a);return(0,t.useCallback)((u,r)=>d(e.util.prefetch(n,u,{...o,...r})),[n,d,o])}function P(n,a,{refetchOnReconnect:d,refetchOnFocus:o,refetchOnMountOrArgChange:u,skip:r=!1,pollingInterval:i=0,skipPollingIfUnfocused:f=!1,...y}={}){let{initiate:p}=e.endpoints[n],R=Q(),B=(0,t.useRef)(void 0);if(!B.current){let v=R(e.internalActions.internal_getRTKQSubscriptions());B.current=v}let l=J(r?c.skipToken:a),g=W({refetchOnReconnect:d,refetchOnFocus:o,pollingInterval:i,skipPollingIfUnfocused:f}),D=y.initialPageParam,x=W(D),m=(0,t.useRef)(void 0),{queryCacheKey:U,requestId:w}=m.current||{},_=!1;U&&w&&(_=B.current.isRequestSubscribed(U,w));let re=!_&&m.current!==void 0;return O(()=>{re&&(m.current=void 0)},[re]),O(()=>{let v=m.current;if(typeof process<"u",l===c.skipToken){v?.unsubscribe(),m.current=void 0;return}let ge=m.current?.subscriptionOptions;if(!v||v.arg!==l){v?.unsubscribe();let Te=R(p(l,{subscriptionOptions:g,forceRefetch:u,...Y(K[n])?{initialPageParam:x}:{}}));m.current=Te}else g!==ge&&v.updateSubscriptionOptions(g)},[R,p,u,l,g,re,x,n]),[m,R,p,g]}function F(n,a){return(o,{skip:u=!1,selectFromResult:r}={})=>{let{select:i}=e.endpoints[n],f=J(u?c.skipToken:o),y=(0,t.useRef)(void 0),p=(0,t.useMemo)(()=>N([i(f),(D,x)=>x,D=>f],a,{memoizeOptions:{resultEqualityCheck:S.shallowEqual}}),[i,f]),R=(0,t.useMemo)(()=>r?N([p],r,{devModeChecks:{identityFunctionCheck:"never"}}):p,[p,r]),B=T(D=>R(D,y.current),S.shallowEqual),l=h(),g=p(l.getState(),y.current);return we(()=>{y.current=g},[g]),B}}function H(n){(0,t.useEffect)(()=>()=>{C(n),n.current=void 0},[n])}function $(n){if(!n.current)throw new Error((0,Qe.formatProdErrorMessage)(38));return n.current.refetch()}function ne(n){let a=(u,r={})=>{let[i]=P(n,u,r);return H(i),(0,t.useMemo)(()=>({refetch:()=>$(i)}),[i])},d=({refetchOnReconnect:u,refetchOnFocus:r,pollingInterval:i=0,skipPollingIfUnfocused:f=!1}={})=>{let{initiate:y}=e.endpoints[n],p=Q(),[R,B]=(0,t.useState)(q),l=(0,t.useRef)(void 0),g=W({refetchOnReconnect:u,refetchOnFocus:r,pollingInterval:i,skipPollingIfUnfocused:f});O(()=>{let U=l.current?.subscriptionOptions;g!==U&&l.current?.updateSubscriptionOptions(g)},[g]);let D=(0,t.useRef)(g);O(()=>{D.current=g},[g]);let x=(0,t.useCallback)(function(U,w=!1){let _;return s(()=>{C(l),l.current=_=p(y(U,{subscriptionOptions:D.current,forceRefetch:!w})),B(U)}),_},[p,y]),m=(0,t.useCallback)(()=>{l.current?.queryCacheKey&&p(e.internalActions.removeQueryResult({queryCacheKey:l.current?.queryCacheKey}))},[p]);return(0,t.useEffect)(()=>()=>{C(l)},[]),(0,t.useEffect)(()=>{R!==q&&!l.current&&x(R,!0)},[R,x]),(0,t.useMemo)(()=>[x,R,{reset:m}],[x,R,m])},o=F(n,te);return{useQueryState:o,useQuerySubscription:a,useLazyQuerySubscription:d,useLazyQuery(u){let[r,i,{reset:f}]=d(u),y=o(i,{...u,skip:i===q}),p=(0,t.useMemo)(()=>({lastArg:i}),[i]);return(0,t.useMemo)(()=>[r,{...y,reset:f},p],[r,y,f,p])},useQuery(u,r){let i=a(u,r),f=o(u,{selectFromResult:u===c.skipToken||r?.skip?void 0:pe,...r}),y=ie(f,...se);return(0,t.useDebugValue)(y),(0,t.useMemo)(()=>({...f,...i}),[f,i])}}}function le(n){let a=(o,u={})=>{let[r,i,f,y]=P(n,o,u),p=(0,t.useRef)(y);O(()=>{p.current=y},[y]);let R=(0,t.useCallback)(function(g,D){let x;return s(()=>{C(r),r.current=x=i(f(g,{subscriptionOptions:p.current,direction:D}))}),x},[r,i,f]);H(r);let B=J(u.skip?c.skipToken:o),l=(0,t.useCallback)(()=>$(r),[r]);return(0,t.useMemo)(()=>({trigger:R,refetch:l,fetchNextPage:()=>R(B,"forward"),fetchPreviousPage:()=>R(B,"backward")}),[l,R,B])},d=F(n,A);return{useInfiniteQueryState:d,useInfiniteQuerySubscription:a,useInfiniteQuery(o,u){let{refetch:r,fetchNextPage:i,fetchPreviousPage:f}=a(o,u),y=d(o,{selectFromResult:o===c.skipToken||u?.skip?void 0:pe,...u}),p=ie(y,...se,"hasNextPage","hasPreviousPage");return(0,t.useDebugValue)(p),(0,t.useMemo)(()=>({...y,fetchNextPage:i,fetchPreviousPage:f,refetch:r}),[y,i,f,r])}}}function Re(n){return({selectFromResult:a,fixedCacheKey:d}={})=>{let{select:o,initiate:u}=e.endpoints[n],r=Q(),[i,f]=(0,t.useState)();(0,t.useEffect)(()=>()=>{i?.arg.fixedCacheKey||i?.reset()},[i]);let y=(0,t.useCallback)(function(U){let w=r(u(U,{fixedCacheKey:d}));return f(w),w},[r,u,d]),{requestId:p}=i||{},R=(0,t.useMemo)(()=>o({fixedCacheKey:d,requestId:i?.requestId}),[d,i,o]),B=(0,t.useMemo)(()=>a?N([R],a):R,[a,R]),l=T(B,S.shallowEqual),g=d==null?i?.arg.originalArgs:void 0,D=(0,t.useCallback)(()=>{s(()=>{i&&f(void 0),d&&r(e.internalActions.removeMutationResult({requestId:p,fixedCacheKey:d}))})},[r,d,i,p]),x=ie(l,...se,"endpointName");(0,t.useDebugValue)(x);let m=(0,t.useMemo)(()=>({...l,originalArgs:g,reset:D}),[l,g,D]);return(0,t.useMemo)(()=>[y,m],[y,m])}}}var ae=Symbol(),ue=({batch:e=M.batch,hooks:s={useDispatch:M.useDispatch,useSelector:M.useSelector,useStore:M.useStore},createSelector:Q=de.createSelector,unstable__sideEffectsInRender:T=!1,...h}={})=>({name:ae,init(I,{serializeQueryArgs:N},E){let L=I,{buildQueryHooks:O,buildInfiniteQueryHooks:C,buildMutationHook:K,usePrefetch:te}=fe({api:I,moduleOptions:{batch:e,hooks:s,unstable__sideEffectsInRender:T,createSelector:Q},serializeQueryArgs:N,context:E});return z(L,{usePrefetch:te}),z(E,{batch:e}),{injectEndpoint(A,V){if(ye(V)){let{useQuery:P,useLazyQuery:F,useLazyQuerySubscription:H,useQueryState:$,useQuerySubscription:ne}=O(A);z(L.endpoints[A],{useQuery:P,useLazyQuery:F,useLazyQuerySubscription:H,useQueryState:$,useQuerySubscription:ne}),I[`use${j(A)}Query`]=P,I[`useLazy${j(A)}Query`]=F}if(oe(V)){let P=K(A);z(L.endpoints[A],{useMutation:P}),I[`use${j(A)}Mutation`]=P}else if(Y(V)){let{useInfiniteQuery:P,useInfiniteQuerySubscription:F,useInfiniteQueryState:H}=C(A);z(L.endpoints[A],{useInfiniteQuery:P,useInfiniteQuerySubscription:F,useInfiniteQueryState:H}),I[`use${j(A)}InfiniteQuery`]=P}}}}});k(b,require("@reduxjs/toolkit/query"),module.exports);var X=require("@reduxjs/toolkit");var ee=Pe(require("react"));function ce(e){let s=e.context||S.ReactReduxContext;if((0,t.useContext)(s))throw new Error((0,X.formatProdErrorMessage)(35));let[T]=ee.useState(()=>(0,X.configureStore)({reducer:{[e.api.reducerPath]:e.api.reducer},middleware:h=>h().concat(e.api.middleware)}));return(0,t.useEffect)(()=>e.setupListeners===!1?void 0:(0,c.setupListeners)(T.dispatch,e.setupListeners),[e.setupListeners,T.dispatch]),ee.createElement(S.Provider,{store:T,context:s},e.children)}var ve=(0,c.buildCreateApi)((0,c.coreModule)(),ue());0&&(module.exports={ApiProvider,UNINITIALIZED_VALUE,createApi,reactHooksModule,reactHooksModuleName,...require("@reduxjs/toolkit/query")});
//# sourceMappingURL=rtk-query-react.production.min.cjs.map